# Vessel-Guided Centerline Extraction Configuration

data:
  source: "phantom"           # "phantom" | path to NIfTI/DICOM
  phantom:
    shape: [128, 128, 128]
    num_main_vessels: 3
    num_branches: 5
    noise_level: 0.05
    seed: 42

preprocessing:
  normalize: "minmax"         # "minmax" | "zscore" | "window"
  ct_window:                  # only used if normalize == "window"
    level: 300
    width: 700
  denoise:
    enabled: true
    method: "gaussian"        # "gaussian" | "median"
    sigma: 0.5

vesselness:
  method: "frangi"            # "frangi" | "sato" | "meijering"
  sigmas_start: 0.5
  sigmas_stop: 6.0
  sigmas_step: 0.5
  black_ridges: false

segmentation:
  method: "percentile"        # "otsu" | "hysteresis" | "percentile"
  threshold_factor: 0.5       # keeps top ~10% of voxels
  min_object_size: 50
  morphology:
    opening_radius: 0         # 0 = skip opening (preserves thin vessels)

centerline:
  method: "skeleton"          # "skeleton" | "distance"
  refine_with_distance: true

evaluation:
  tolerance_voxels: 2.0

output:
  save_dir: "outputs"
  save_figures: true
  save_metrics: true
  save_centerline_coords: true
  figure_dpi: 150
